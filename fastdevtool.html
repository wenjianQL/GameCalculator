<!--
*
*  INSPINIA - Responsive Admin Theme
*  version 2.9.2
*
-->

<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>快速开发工具-Android</title>

    <style>
        #result {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 10px;
            font-family: Courier, monospace;
        }

        #copyButton {
            padding: 5px 10px;
            background-color: #007bff;
            color: #fff;
            border: none;
            cursor: pointer;
        }

        .container {
            display: flex;
            flex-direction: row;
        }

        .label {
            flex-basis: 30%;
            padding-right: 10px;
            text-align: right;
        }

        .input {
            flex-basis: 70%;
        }
    </style>
</head>

<body>
<h1>生成视图</h1>

<!--        <h1>单选选项</h1>-->

<!--        <div id="options">-->
<!--            <label>-->
<!--                <input type="radio" name="option" value="TextView"> TextView-->
<!--            </label>-->
<!--            <label>-->
<!--                <input type="radio" name="option" value="ImageView"> ImageView-->
<!--            </label>-->
<!--            <label>-->
<!--                <input type="radio" name="option" value="View"> View-->
<!--            </label>-->
<!--        </div>-->

<table>
    <tr>
        <td>key</td>
        <td>value</td>
    </tr>
    <tr>
        <td><label for="xPosInput">x:</label></td>
        <td><input type="number" id="xPosInput" value="20"></td>
    </tr>
    <tr>
        <td><label for="yPosInput">y:</label></td>
        <td><input type="number" id="yPosInput" value="50"></td>
    </tr>
    <tr>
        <td><label for="widthInput">view width:</label></td>
        <td><input type="number" id="widthInput" value="80"></td>
    </tr>
    <tr>
        <td><label for="heightInput">view height:</label></td>
        <td><input type="number" id="heightInput" value="100"></td>
    </tr>
    <tr>
        <td><label for="screenWidthInput">parent width:</label></td>
        <td><input type="number" id="screenWidthInput" value="411"></td>
    </tr>
    <tr>
        <td><label for="screenHeightInput">parent height:</label></td>
        <td><input type="number" id="screenHeightInput" value="891"></td>
    </tr>
</table>

<button onclick="generateView()">生成</button>

<div id="result">
    <pre id="resultText">这是结果文本</pre>
</div>

<button id="copyButton" onclick="copyResult()">复制</button>

<script>
    function generateView() {
        const vx = parseInt(document.getElementById("xPosInput").value);
        const vy = parseInt(document.getElementById("yPosInput").value);
        const vh = parseInt(document.getElementById("heightInput").value);
        const vw = parseInt(document.getElementById("widthInput").value);
        const h = parseInt(document.getElementById("screenHeightInput").value);
        const w = parseInt(document.getElementById("screenWidthInput").value);

        let verticalBias = (vy / (h - vh)).toFixed(4);
        let horBias = (vx / (w - vw)).toFixed(4);
        let verBiasStr = "app:layout_constraintVertical_bias=\"" + verticalBias + "\"";
        let horBiasStr = "app:layout_constraintHorizontal_bias=\"" + horBias + "\"";

        let ratioStr = "app:layout_constraintDimensionRatio=\"" + vw + ":" + vh + "\"";

        let widthPercent = (vw / w).toFixed(4);
        let widthPercentStr = "app:layout_constraintWidth_percent=\"" + widthPercent + "\"";

        // 通用结果
        let layoutWidthStr = "android:layout_width=\"0dp\"";
        let layoutHeightStr = "android:layout_height=\"0dp\"";
        let bottomStr = "app:layout_constraintBottom_toBottomOf=\"parent\"";
        let leftStr = "app:layout_constraintLeft_toLeftOf=\"parent\"";
        let rightStr = "app:layout_constraintRight_toRightOf=\"parent\"";
        let topStr = "app:layout_constraintTop_toTopOf=\"parent\"";

        let resultNode = document.getElementById("resultText");
        if (resultNode) {
            resultNode.textContent = "<View\n" +
                layoutWidthStr + '\n' +
                layoutHeightStr + '\n' +
                bottomStr + '\n' +
                leftStr + '\n' +
                rightStr + '\n' +
                topStr + '\n' +
                verBiasStr + '\n' +
                horBiasStr + '\n' +
                ratioStr + '\n' +
                widthPercentStr + '\n' +
                "/>";
        }

    }

    function copyResult() {
        const resultText = document.getElementById("resultText");
        const textToCopy = resultText.innerText;

        navigator.clipboard.writeText(textToCopy)
            .then(() => {
                alert("文本已复制");
            })
            .catch((error) => {
                console.error("复制失败:", error);
            });
    }
</script>

<!--        <button onclick="getSelectedOption()">获取选中选项</button>-->

<!--        <script>-->
<!--            function getSelectedOption() {-->
<!--                const options = document.getElementsByName("option");-->
<!--                let selectedOption = "";-->

<!--                for (let i = 0; i < options.length; i++) {-->
<!--                    if (options[i].checked) {-->
<!--                        selectedOption = options[i].value;-->
<!--                        break;-->
<!--                    }-->
<!--                }-->

<!--                console.log("选中的选项：" + selectedOption);-->
<!--            }-->
<!--        </script>-->
</body>

</html>